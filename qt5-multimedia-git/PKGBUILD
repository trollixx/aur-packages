# Maintainer: Oleg Shparber <trollixx+aur@gmail.com>
# Contributor: Pier Luigi Fiorini <pierluigi.fiorini@gmail.com>

pkgname=qt5-multimedia-git
pkgver=v5.2.0.57.g422099e
pkgrel=1
pkgdesc="A cross-platform application and UI framework (QtMultimedia)"
groups=('qt' 'qt5')
arch=('i686' 'x86_64')
url="http://qt-project.org/"
license=('GPL3' 'LGPL')
depends=('qt5-declarative' 'gstreamer0.10-bad' 'libpulse' 'openal')
makedepends=('git')
replaces=('qt5-qtmultimedia-git')
provides=('qt5-multimedia')
conflicts=('qt5-multimedia')
source=('git://gitorious.org/qt/qtmultimedia#branch=dev')
md5sums=('SKIP')
_gitname="qtmultimedia"

pkgver() {
	cd ${srcdir}/${_gitname}
	git describe --always | sed 's|-|.|g'
}

build() {
	cd ${srcdir}/${_gitname}
	qmake
	make
}

package() {
	cd "${_gitname}"
	make INSTALL_ROOT="${pkgdir}" install
}
